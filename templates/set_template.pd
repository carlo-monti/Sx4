#N canvas 245 547 1390 805 12;
#X declare -path ../modules/commons;
#X obj 782 1452 dac~ 1 2 3 4;
#X obj 640 1213 r~ to_dac_1_\$0;
#X obj 695 1240 r~ to_dac_2_\$0;
#X obj 811 1212 r~ to_dac_3_\$0;
#X obj 842 1237 r~ to_dac_4_\$0;
#X obj 739 1395 *~;
#X obj 772 1395 *~;
#X obj 864 1392 *~;
#X obj 899 1393 *~;
#X obj 981 1257 / 127;
#X obj 981 1282 pack 0 10;
#X obj 981 1307 line~;
#X obj 508 116 melodic_seq;
#X obj 505 325 chord_seq;
#X obj 784 -322 loadbang;
#X msg 784 -282 \; pd dsp 1;
#X obj 780 1022 s~ to_dac_2_\$0;
#X obj 672 1022 s~ to_dac_1_\$0;
#X obj 890 1021 s~ to_dac_3_\$0;
#X obj 997 1021 s~ to_dac_4_\$0;
#X text 2116 413 questa è la pagina principale \, sono caricati due generatori di sequenze e un generatore di accordi. si possono poi caricare come sottoprocesso (con pd~) un synth brds \, una drum machine e un synth fm \, ognuno con il loro set di quatrro effetti. Ad ogni modulo caricato (sequenza \, accordi \, synth \, drummachine \, ...) deve essere assegnato un id che indica la cartella sottu cui verranno salvati i presete. Ad esempio si possono caricare due synth brds a patto di assegnargli due id diversi. Gli effetti caricati con la drum machine e i synth dovranno avere id diversi. Per assegnare un id si manda un msg "set_id 2" ad ognuno. Per asssegnare l'id agli effetti caricati insieme ai synth \, bisogna mandare un messaggio "effects set_id 3". Per salvare i preset si manda un messaggio "save 5" a tutti. Ai moduli che hanno caricato gli effetti bisogna mandare anche un ulteriore messaggio "effects save 5" (i messaggi inviati ai moduli che caricano effetti andranno direttamente al modulo a meno che sia preposto "effects" \, in tal caso andranno all'effetto). Se i moduli sono caricati tramite pd~ \, ai messaggi bisognerà preporre "control" \, se invece si manda il messaggio nell'ultimo inlet \, questo non è necessario. Ad ogni modulo possono essere inviati i messaggi di save e load e DEVE essere inviato il messaggio di set_id all'inizio della patch. In base al tipo di modulo si avranno diversi tipologie di messaggio (i synth hanno input note_in e all_notes_off \, etc.) e i messaggi osc passano tramite l'ultimo inlet oppure il ricevitore "control".;
#X obj 780 1334 *~;
#X obj 816 1334 *~;
#X obj 1222 58 s osc_out;
#X obj 152 782 note_receiver 1;
#X obj 508 263 note_sender 2;
#X obj 505 479 note_sender 3;
#X obj 883 480 note_sender 4;
#X obj 1227 265 s osc_out;
#X obj 1384 480 s osc_out;
#X obj 152 903 s osc_out;
#X obj 609 -327 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 606 -263 s init;
#X obj 202 27 s osc_out;
#X obj -202 20 s to_all;
#X obj -135 20 s osc_out;
#X obj 328 15 s stop_subproc;
#X obj 328 -19 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj -201 303 s to_all;
#X obj 982 1185 r to_all;
#X obj 981 1215 route vol_glob stereo_merge;
#X obj -109 304 s osc_out;
#X obj 956 850 pd~ -ninsig 0 -noutsig 4, f 37;
#X obj 956 879 s osc_out;
#X obj 640 769 pd~ -ninsig 0 -noutsig 4, f 37;
#X obj 640 798 s osc_out;
#X obj 669 -273 file patchpath;
#X obj 670 -212 s current_path;
#X msg 678 -241 symbol \$1;
#X obj 607 -300 t b b;
#X obj 152 874 pd~ -ninsig 0 -noutsig 4;
#X obj 152 816 main_connection_ext_dual brds_synth_wrap_effects.pd 3 brds 4 brdseffects;
#X obj 505 88 main_connection 1 seq2;
#X obj 506 296 main_connection 2 chord;
#X obj 872 -314 declare -path ../modules/commons;
#X obj 507 -122 main_connection 0 seq1;
#X obj 507 53 note_sender 1;
#X obj -202 -107 preset_handler;
#X obj 10 -108 note_router;
#X obj -201 68 osc_connection;
#X obj -201 165 song_handler;
#X obj -201 137 main_connection 101 song;
#X obj 10 -136 main_connection 100 routing;
#X obj -202 -138 main_connection 102 presets;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 3 0 21 0;
#X connect 4 0 8 0;
#X connect 4 0 22 0;
#X connect 5 0 0 0;
#X connect 6 0 0 1;
#X connect 7 0 0 2;
#X connect 8 0 0 3;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 8 1;
#X connect 11 0 7 1;
#X connect 11 0 6 1;
#X connect 11 0 5 1;
#X connect 12 0 25 0;
#X connect 12 1 28 0;
#X connect 13 0 26 0;
#X connect 13 1 27 0;
#X connect 13 2 29 0;
#X connect 14 0 15 0;
#X connect 14 0 46 0;
#X connect 21 0 5 0;
#X connect 22 0 6 0;
#X connect 24 0 51 0;
#X connect 31 0 49 0;
#X connect 37 0 36 0;
#X connect 39 0 40 0;
#X connect 40 0 9 0;
#X connect 40 1 22 1;
#X connect 40 1 21 1;
#X connect 42 0 43 0;
#X connect 44 0 45 0;
#X connect 44 1 17 0;
#X connect 44 2 16 0;
#X connect 44 3 18 0;
#X connect 44 4 19 0;
#X connect 46 0 48 0;
#X connect 48 0 47 0;
#X connect 49 0 32 0;
#X connect 49 1 46 0;
#X connect 50 0 30 0;
#X connect 50 1 17 0;
#X connect 50 2 16 0;
#X connect 50 3 18 0;
#X connect 50 4 19 0;
#X connect 51 0 50 0;
#X connect 52 0 12 0;
#X connect 57 0 34 0;
#X connect 57 1 35 0;
#X connect 58 1 33 0;
#X connect 60 0 38 0;
#X connect 60 1 41 0;
#X connect 61 0 60 0;
#X connect 62 0 58 0;
#X connect 63 0 57 0;
