#N canvas 2300 85 1390 977 12;
#X declare -path ../../modules -path ../../modules/commons;
#X obj 507 -94 melodic_seq;
#X obj 508 116 melodic_seq;
#X obj 505 325 chord_seq;
#X obj 736 -331 loadbang;
#X msg 784 -282 \; pd dsp 1;
#X text 2116 413 questa è la pagina principale \, sono caricati due generatori di sequenze e un generatore di accordi. si possono poi caricare come sottoprocesso (con pd~) un synth brds \, una drum machine e un synth fm \, ognuno con il loro set di quatrro effetti. Ad ogni modulo caricato (sequenza \, accordi \, synth \, drummachine \, ...) deve essere assegnato un id che indica la cartella sottu cui verranno salvati i presete. Ad esempio si possono caricare due synth brds a patto di assegnargli due id diversi. Gli effetti caricati con la drum machine e i synth dovranno avere id diversi. Per assegnare un id si manda un msg "set_id 2" ad ognuno. Per asssegnare l'id agli effetti caricati insieme ai synth \, bisogna mandare un messaggio "effects set_id 3". Per salvare i preset si manda un messaggio "save 5" a tutti. Ai moduli che hanno caricato gli effetti bisogna mandare anche un ulteriore messaggio "effects save 5" (i messaggi inviati ai moduli che caricano effetti andranno direttamente al modulo a meno che sia preposto "effects" \, in tal caso andranno all'effetto). Se i moduli sono caricati tramite pd~ \, ai messaggi bisognerà preporre "control" \, se invece si manda il messaggio nell'ultimo inlet \, questo non è necessario. Ad ogni modulo possono essere inviati i messaggi di save e load e DEVE essere inviato il messaggio di set_id all'inizio della patch. In base al tipo di modulo si avranno diversi tipologie di messaggio (i synth hanno input note_in e all_notes_off \, etc.) e i messaggi osc passano tramite l'ultimo inlet oppure il ricevitore "control".;
#X obj 1222 58 s osc_out;
#X obj 507 53 note_sender 1;
#X obj -40 427 note_receiver 1;
#X obj 508 263 note_sender 2;
#X obj 505 479 note_sender 3;
#X obj 947 479 note_sender 4;
#X obj 1227 265 s osc_out;
#X obj 1384 480 s osc_out;
#X obj -40 513 s osc_out;
#X obj 619 -324 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 616 -260 s init;
#X obj 385 -157 s osc_out;
#X obj -195 -164 s to_all;
#X obj -128 -164 s osc_out;
#X obj 468 -210 s stop_subproc;
#X obj 468 -244 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 11 -157 s to_all;
#X obj 104 -158 s osc_out;
#X obj 11 -319 main_connection 101 song;
#X obj 656 -141 main_connection 0 seq1;
#X obj 675 -190 s current_path;
#X msg 675 -217 symbol \$1;
#X obj 617 -297 t b b;
#X obj 872 -314 declare -path ../../modules -path ../../modules/commons;
#X obj -40 484 pd~ -ninsig 0 -noutsig 4;
#X obj 637 73 main_connection 1 seq2;
#X obj 635 266 main_connection 2 chord;
#X obj -195 -318 main_connection 100 presets;
#X obj 193 -319 main_connection 102 routing;
#X obj 670 -325 bng 20 250 50 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000;
#X obj 675 -242 pdcontrol;
#X msg 675 -269 dir;
#X obj 193 -292 main_note_router;
#X obj 13 -293 main_song_handler;
#X obj -195 -291 main_presets_handler;
#X obj 211 70 notein;
#X obj 219 108 pack 0 0;
#X obj 214 158 note_sender 4;
#X obj -30 256 s to_all;
#X msg -29 189 load 0;
#X msg 27 187 save 0;
#X msg -89 188 init 0;
#X obj -82 -291 main_osc_connection;
#X obj 37 513 main_output, f 13;
#X obj -39 454 main_connection_ext_1 brds_synth_wrap.pd 3 pd, f 70;
#X obj -19 14 lfo;
#X connect 0 0 7 0;
#X connect 0 1 6 0;
#X connect 1 0 9 0;
#X connect 1 1 12 0;
#X connect 2 0 10 0;
#X connect 2 1 11 0;
#X connect 2 2 13 0;
#X connect 3 0 4 0;
#X connect 3 0 37 0;
#X connect 8 0 50 0;
#X connect 15 0 28 0;
#X connect 21 0 20 0;
#X connect 24 0 39 0;
#X connect 25 0 0 0;
#X connect 27 0 26 0;
#X connect 28 0 16 0;
#X connect 28 1 37 0;
#X connect 30 0 14 0;
#X connect 30 1 49 0;
#X connect 30 2 49 1;
#X connect 30 3 49 2;
#X connect 30 4 49 3;
#X connect 33 0 40 0;
#X connect 34 0 38 0;
#X connect 35 0 37 0;
#X connect 36 0 27 0;
#X connect 37 0 36 0;
#X connect 38 1 17 0;
#X connect 39 0 22 0;
#X connect 39 1 23 0;
#X connect 40 0 18 0;
#X connect 40 1 19 0;
#X connect 41 0 42 0;
#X connect 41 1 42 1;
#X connect 42 0 43 0;
#X connect 45 0 44 0;
#X connect 46 0 44 0;
#X connect 47 0 44 0;
#X connect 50 0 30 0;
